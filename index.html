<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hacker Hub | Ultimate System Breach</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="antialiased bg-[#030712] text-white">

    <div id="authModal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-xl hidden">
        <div class="auth-card p-10 rounded-[2.5rem] max-w-md w-full shadow-2xl border border-white/10 bg-[#0f172a]">
            <h2 class="text-3xl font-extrabold mb-2 text-blue-500 font-sans uppercase">System Access</h2>
            <p class="text-gray-500 mb-8">Введите позывной для инициализации протокола.</p>
            <form id="authForm" class="space-y-4">
                <input type="text" id="usernameInput" required placeholder="Codename" class="auth-input w-full">
                <button type="submit" class="btn-primary w-full py-4 uppercase tracking-widest">Инициализировать</button>
            </form>
        </div>
    </div>

    <nav class="main-nav h-20 border-b border-white/5 flex items-center sticky top-0 z-50 bg-[#030712]/80 backdrop-blur-md">
        <div class="max-w-7xl mx-auto w-full px-6 flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer" onclick="showView('home')">
                <div id="userIcon" class="nav-logo">?</div>
                <span id="navNickname" class="nav-title">OPERATOR</span>
            </div>
            <div class="flex items-center gap-8 font-semibold">
                <button onclick="showView('home')" class="hover:text-blue-500 transition-colors uppercase text-xs tracking-widest">Главная</button>
                <button onclick="showView('profile')" class="btn-secondary uppercase text-xs tracking-widest">Профиль</button>
            </div>
        </div>
    </nav>

    <main id="view-home" class="view-content active">
        <section class="max-w-7xl mx-auto px-6 pt-16 pb-12">
            <div class="md:w-3/5">
                <h1 class="text-6xl font-black leading-tight mb-6 uppercase italic">Master the <span class="text-blue-600">Digital Void</span></h1>
                <p class="text-gray-400 text-lg border-l-2 border-blue-600 pl-4">Протокол обучения запущен. Используйте модули ниже для повышения уровня доступа.</p>
            </div>
        </section>

        <section class="max-w-7xl mx-auto px-6 py-12 border-t border-white/5">
            <div class="flex flex-col md:flex-row justify-between items-center mb-10 gap-6">
                <h2 class="text-3xl font-black uppercase">Учебные модули</h2>
                <input type="text" id="lessonSearch" oninput="filterLessons(this.value)" placeholder="Поиск сигнатур..." class="search-input max-w-xs">
            </div>
            <div id="lessonsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>
    </main>

    <section id="view-lesson-page" class="view-content max-w-4xl mx-auto px-6 py-20 hidden">
        <button onclick="showView('home')" class="text-blue-500 font-bold mb-8 uppercase text-xs tracking-widest">← Назад к модулям</button>
        <div class="glass-card p-8 md:p-12">
            <h1 id="lessonTitle" class="text-5xl font-black mb-8 uppercase tracking-tighter"></h1>
            <div id="lessonBody" class="text-gray-300 text-lg leading-relaxed mb-16 space-y-4 mono"></div>
            <div class="pt-10 border-t border-white/10 flex justify-center">
                <button id="finishBtn" onclick="completeCurrentLesson()" class="btn-primary px-16 py-5 text-xl uppercase italic">Завершить модуль</button>
            </div>
        </div>
    </section>

    <section id="view-profile" class="view-content max-w-7xl mx-auto px-6 py-16 hidden">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <div class="glass-card p-8 flex flex-col items-center">
                <div id="profAvatar" class="prof-avatar">?</div>
                <h3 id="profName" class="text-2xl font-black mb-1 uppercase tracking-tighter">OPERATOR</h3>
                <p class="status-badge">Secure Access</p>
                
                <div class="w-full mt-10 space-y-3">
                    <p class="text-gray-500 text-[10px] uppercase font-bold text-center tracking-widest">Доступные взломы</p>
                    <button onclick="startTournament('Easy')" class="t-btn t-btn-easy uppercase text-[10px]">Security Audit (Easy)</button>
                    <button onclick="startTournament('Medium')" class="t-btn t-btn-medium uppercase text-[10px]">Bank Heist (Medium)</button>
                    <button onclick="startTournament('Hard')" class="t-btn t-btn-hard uppercase text-[10px]">Mainframe (Hard)</button>
                    <button onclick="startTournament('Extreme')" class="t-btn bg-red-600/20 border-red-600 text-red-500 hover:bg-red-600 hover:text-white uppercase text-[10px] shadow-[0_0_20px_rgba(239,68,68,0.2)]">Core Breach (Extreme)</button>
                </div>
            </div>
            
            <div class="lg:col-span-3 space-y-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="glass-card p-8">
                        <p class="text-gray-500 text-[10px] font-bold uppercase mb-4 tracking-widest">Завершено модулей</p>
                        <div class="flex items-baseline gap-2">
                            <span id="statDone" class="text-6xl font-black text-blue-600 italic">0</span>
                            <span class="text-gray-500 mono">/ 8</span>
                        </div>
                    </div>
                    <div class="glass-card p-8">
                        <p class="text-gray-500 text-[10px] font-bold uppercase mb-4 tracking-widest">Время в сети</p>
                        <div class="flex items-baseline gap-2">
                            <span id="statTime" class="text-6xl font-black text-green-500 italic">0</span>
                            <span class="text-gray-500 mono">min</span>
                        </div>
                    </div>
                </div>
                <div class="glass-card p-8">
                    <p class="text-gray-500 text-[10px] font-bold uppercase mb-8 tracking-widest">Анализ специализации</p>
                    <div id="activityChart" class="flex items-end gap-3 h-48"></div>
                </div>
               
</div>
            </div>
        </div>
        <div class="glass-card p-6 mt-6 border-red-500/30">
    <h3 class="text-red-500 font-black uppercase text-xs mb-4 flex items-center">
        <span class="animate-pulse mr-2">●</span> WiFi Breach Module (Real-Time)
    </h3>
    
    <div class="grid grid-cols-2 gap-2 mb-4">
        <input type="text" id="realIp" value="192.168.1.1" class="bg-black/50 border border-white/10 p-2 text-xs text-white outline-none focus:border-red-500">
        <input type="text" id="realPort" value="80" class="bg-black/50 border border-white/10 p-2 text-xs text-white outline-none focus:border-red-500">
    </div>

    <textarea id="wifiPayload" placeholder="Введите ваш Python-эксплойт здесь..." 
        class="w-full h-32 bg-black border border-white/10 p-3 text-green-500 font-mono text-[10px] outline-none mb-4"></textarea>
    
    <div id="wifiTerminal" class="w-full h-48 bg-black border border-red-900/30 p-3 mb-4 overflow-y-auto font-mono text-[10px] shadow-inner">
        <div class="text-gray-600">[SYSTEM] Terminal ready. Awaiting payload execution...</div>
    </div>
    <div class="mt-6 border-2 border-red-600 bg-black p-4">
    <h2 class="text-red-600 font-black text-xs tracking-tighter mb-3 uppercase">
        ⚠️ Priority Target Intercept (YouTube/Roblox)
    </h2>
    <div id="priorityTerminal" class="h-40 overflow-y-auto font-mono text-[10px] space-y-2">
        <div class="text-gray-500 italic">Waiting for targets...</div>
    </div>
</div>

    <button onclick="executeWifiAttack()" class="w-full bg-red-600 hover:bg-red-700 text-white py-2 uppercase font-black text-[10px] tracking-widest transition-all">
        Launch Real-Device Attack
    </button>
    <div class="flex gap-2">
    <button onclick="clearLogs()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 uppercase font-black text-[10px] tracking-widest transition-all">
        Wipe Data & Clear Terminal
    </button>
    <a href="https://raw.githubusercontent.com/frontender-page/hacker_tool_v2/main/sniffer.py" download class="flex-1 border border-blue-600 text-blue-600 py-3 text-center uppercase font-black text-[10px] tracking-widest hover:bg-blue-600 hover:text-white transition-all">
        Download Client
    </a>
</div>
</div>
    </section>


    <section id="view-tournament" class="view-content fixed inset-0 bg-[#030712] z-[100] hidden flex flex-col">
        <div class="h-16 border-b border-white/5 flex justify-between items-center px-6 bg-black/40">
            <button onclick="showView('profile')" class="text-gray-400 hover:text-white uppercase text-[10px] tracking-widest">← Прервать миссию</button>
            <div id="currentMode" class="text-white font-black tracking-[0.3em] text-sm uppercase">INITIALIZING...</div>
            <div id="ideTimer" class="mono text-xl text-blue-500 font-bold">00:00</div>
        </div>
        
        <div class="flex flex-1 overflow-hidden">
            <div class="w-1/2 flex flex-col bg-[#0b1120] border-r border-white/5">
                <div class="px-6 py-2 bg-black/40 mono text-[10px] text-blue-400 flex justify-between border-b border-white/5">
                    <span id="ideFileName">script.py</span>
                    <span class="text-gray-600">ENCRYPTED_SESSION</span>
                </div>
                <textarea id="ideEditor" spellcheck="false" class="ide-textarea p-6 flex-1 bg-transparent text-blue-400 focus:outline-none" placeholder="写入代码..."></textarea>
                <div id="ideConsole" class="ide-console h-64 p-4 mono text-xs overflow-y-auto bg-black/80"></div>
                <div class="p-6 bg-black/20">
                    <button id="runBtn" onclick="runExploit()" class="btn-primary w-full py-4 uppercase font-black text-xs tracking-[0.2em]">Execute Payload</button>
                </div>
            </div>

            <div id="visualZone" class="w-1/2 flex flex-col items-center justify-center p-12 relative bg-[#050a18]">
                
                <div id="bankTerminal" class="glass-card w-full max-w-sm p-8 border-t-4 border-t-blue-600 shadow-2xl z-10 hidden">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-[10px] font-bold text-blue-500 uppercase tracking-widest">Global Bank Central</span>
                        <div class="w-3 h-3 bg-blue-500 animate-ping rounded-full"></div>
                    </div>
                    <div class="space-y-4">
                        <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                            <p class="text-[10px] text-gray-500 uppercase">Vault Balance</p>
                            <p class="text-2xl font-black text-white italic">$1,450,230.00</p>
                        </div>
                        <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                            <p class="text-[10px] text-gray-500 uppercase">Target Account</p>
                            <p id="uiTargetAccount" class="text-sm font-mono text-blue-400">WAITING...</p>
                        </div>
                        <div class="bg-black/40 p-3 rounded-lg border border-white/5">
                            <p class="text-[10px] text-gray-500 uppercase">Amount Transfer</p>
                            <p id="uiAmount" class="text-sm font-mono text-red-500">$0.00</p>
                        </div>
                    </div>
                    <div id="bankStatus" class="mt-8 text-center py-2 bg-blue-600/10 rounded border border-blue-600/20">
                        <span class="text-[10px] font-bold text-blue-500">SYSTEM SECURE</span>
                    </div>
                </div>

                <div id="courtTerminal" class="glass-card w-full max-w-sm p-8 border-t-4 border-t-red-600 shadow-2xl z-10 hidden text-center">
                     <span class="text-[10px] font-bold text-red-500 uppercase tracking-widest mb-4 block">Justice Database</span>
                     <p id="uiCaseStatus" class="text-2xl font-black text-red-600 italic mb-4">GUILTY</p>
                     <div class="w-full bg-gray-900 h-2 rounded-full overflow-hidden">
                         <div id="dbIntegrity" class="bg-red-600 h-full transition-all duration-1000" style="width:100%"></div>
                     </div>
                </div>

                <div id="extremeTerminal" class="hidden flex flex-col items-center justify-center w-full relative">
                    <div id="coreContainer" class="relative w-[400px] h-[400px] flex items-center justify-center">
                        <div class="absolute w-20 h-20 bg-red-600 rounded-full shadow-[0_0_60px_#ff0000] animate-pulse z-50 flex items-center justify-center">
                            <span class="text-[8px] font-bold">CORE</span>
                        </div>
                        <div id="securityRings" class="absolute inset-0 flex items-center justify-center">
                            </div>
                    </div>
                    <div class="mt-16 text-center z-50">
                        <h2 id="currentLockName" class="text-red-500 font-black text-3xl tracking-[0.2em] uppercase italic">LAYER: INITIALIZING</h2>
                        <p id="lockProgress" class="text-gray-500 mono text-sm mt-2 tracking-widest">LAYERS REMAINING: 10/10</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

 <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onChildAdded, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // ТВОЯ КОНФИГУРАЦИЯ
        const firebaseConfig = { 
            databaseURL: "https://hackerdash-d2075-default-rtdb.firebaseio.com/" 
        };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        const terminal = document.getElementById('wifiTerminal');
        const priorityTerminal = document.getElementById('priorityTerminal');

        // 1. СЛУШАЕМ ОБЩИЙ ТРАФИК
        onChildAdded(ref(db, 'logs'), (snapshot) => {
            const data = snapshot.val();
            const entry = document.createElement('div');
            entry.className = 'border-l border-green-900 pl-2 py-0.5';
            entry.innerHTML = `<span class="text-green-700">[${data.time}]</span> <span class="text-blue-400">${data.ip}</span> → <span class="text-white">${data.url}</span>`;
            terminal.appendChild(entry);
            terminal.scrollTop = terminal.scrollHeight;
        });

        // 2. СЛУШАЕМ ВАЖНЫЕ ЦЕЛИ (ROBLOX/YOUTUBE)
        onChildAdded(ref(db, 'priority_logs'), (snapshot) => {
            const data = snapshot.val();
            if(priorityTerminal.innerText.includes('Waiting')) priorityTerminal.innerHTML = '';

            const entry = document.createElement('div');
            entry.className = 'bg-red-900/20 border-l-4 border-red-600 p-2 animate-pulse';
            entry.innerHTML = `
                <div class="flex justify-between">
                    <span class="text-red-500 font-bold uppercase">${data.target} DETECTED</span>
                    <span class="text-white">${data.time}</span>
                </div>
                <div class="text-gray-400">Device: ${data.ip} | Domain: ${data.url}</div>
            `;
            priorityTerminal.prepend(entry);
        });

        // 3. ФУНКЦИЯ ОЧИСТКИ (WIPE)
        window.wipeData = function() {
            if (confirm("ВНИМАНИЕ: Это полностью удалит все логи из базы данных. Продолжить?")) {
                set(ref(db, 'logs'), null);
                set(ref(db, 'priority_logs'), null);
                
                terminal.innerHTML = '<div class="text-green-500">[SYSTEM] Database wiped successfully.</div>';
                priorityTerminal.innerHTML = '<div class="text-gray-600 italic">Waiting for targets (Roblox/YouTube)...</div>';
            }
        }
    </script>

    <script src="app.js"></script>
    
</body>
</html>